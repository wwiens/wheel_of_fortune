<!DOCTYPE html>
<html>
<head>
  <title>Responsive Boxes</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@700&display=swap" rel="stylesheet">
  <style>
      body {
        margin: 0;
        padding: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100vh;
        background-color: #f2f2f2;
      }

      .container {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        width: 70%;
        max-width: 1000px;
        height: auto;
        padding: 20px;
        background-color: #ffffff;
        border-radius: 5px;
        box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
      }

      .box {
        width: 100%;
        height: 100px;
        margin-bottom: 20px;
        background-color: #ffffff;
        border-radius: 5px;
      }
      .mytable {
          table-layout: fixed;
      }
      .letterboard {
          table-layout: fixed;
      }    
      td {
        border: 1px solid;
        text-align: center;
        font-family: 'Roboto Condensed', sans-serif;
        font-size: 62px;
        height: 80px;
        background-color: #01a657;
      }
      .callletters {
        font-family: 'Roboto Condensed', sans-serif;
        background: #ffffff;
        font-size: 28px;
      }
      table {
        width: 100%;
      }
      img {
        margin-bottom: 20px;
      }
      #corner{
        border: 0px;
        background: #ffffff;      
      }
  </style>
  <script>
    
    function loadboard(data) {

      /*let strlettersr1 = data.row1;
      let strlettersr2 = data.row2;
      let strlettersr3 = data.row3;
      let strlettersr4 = data.row4;
      let call_letter_list = data.call_letters;
      */
      let strlettersr1 = "___#ARA#E_&__";
      let strlettersr2 = "___ROOT_BEER__";
      let strlettersr3 = "___F#OAT______";
      let strlettersr4 = "_____________";
      let call_letter_list = "ABNOEFGRTLM";



      for (let i=0; i < 26; i++) {
        var elm = "letter-" + String.fromCharCode(i+65);
        document.getElementById(elm).style.backgroundColor = "#ffffff";
        document.getElementById(elm).style.color = "#000000";    
        document.getElementById(elm).style.border = "1px solid #000000";  
      }

      for (let i = 0; i < call_letter_list.length; i++) {
        var elm = "letter-" + call_letter_list.charAt(i);
        document.getElementById(elm).style.backgroundColor = "#737373";
        document.getElementById(elm).style.color = "#ffffff";    
        document.getElementById(elm).style.border = "1px solid #000000";   
      }

      // document.getElementById("board-1-3").innerText = "X";
      // First row of the board
      for (var i = 2; i < 14; i++) {
        var elm = "board-1-" + i;
        char = strlettersr1[i-1];
        console.log(char, i)
        if (char == "_") {          
          document.getElementById(elm).style.backgroundColor = "#01a657";
          document.getElementById(elm).innerText = " ";
        } else if (char == "#") {
          document.getElementById(elm).style.backgroundColor = "#ffffff";
          document.getElementById(elm).innerText = " ";
        }
        else {
          document.getElementById(elm).style.backgroundColor = "#ffffff";
          document.getElementById(elm).innerText = char;       
        }
      }
      // Second row of the board
      for (var i = 1; i < 15; i++) {
        var elm = "board-2-" + i;
        char = strlettersr2[i-1];
        console.log(char, i)
        if (char == "_") {          
          document.getElementById(elm).style.backgroundColor = "#01a657";
          document.getElementById(elm).innerText = " ";
        } else if (char == "#") {
          document.getElementById(elm).style.backgroundColor = "#ffffff";
          document.getElementById(elm).innerText = " ";
        }
        else {
          document.getElementById(elm).style.backgroundColor = "#ffffff";
          document.getElementById(elm).innerText = char;       
        }
      }
      // Second row of the board
      for (var i = 1; i < 15; i++) {
        var elm = "board-3-" + i ;
        char = strlettersr3[i-1]
        console.log(char, i)
        if (char == "_") {          
          document.getElementById(elm).style.backgroundColor = "#01a657";
          document.getElementById(elm).innerText = " ";
        } else if (char == "#") {
          document.getElementById(elm).style.backgroundColor = "#ffffff";
          document.getElementById(elm).innerText = " ";
        }
        else {
          document.getElementById(elm).style.backgroundColor = "#ffffff";
          document.getElementById(elm).innerText = char;       
        }
      }
    // Fourth row of the board
    for (var i = 2; i < 14; i++) {
          var elm = "board-4-" + i  ;
          char = strlettersr4[i-1]
          if (char == "_") {          
            document.getElementById(elm).style.backgroundColor = "#01a657";
            document.getElementById(elm).innerText = " ";
          } else if (char == "#") {
            document.getElementById(elm).style.backgroundColor = "#ffffff";
            document.getElementById(elm).innerText = " ";
          }
          else {
            document.getElementById(elm).style.backgroundColor = "#ffffff";
            document.getElementById(elm).innerText = char;       
          }
        }
    }
  </script>
</head>
<body>
  <div class="container">
      <table class="mytable">
        <tr>
            <td id="corner" class="align-middle text-center"> </td>
            <td id="board-1-2" class="align-middle text-center"> </td>
            <td id="board-1-3" class="align-middle text-center"> </td>
            <td id="board-1-4" class="align-middle text-center"> </td>
            <td id="board-1-5" class="align-middle text-center"> </td>
            <td id="board-1-6" class="align-middle text-center"> </td>            
            <td id="board-1-7" class="align-middle text-center"> </td>
            <td id="board-1-8" class="align-middle text-center"> </td>
            <td id="board-1-9" class="align-middle text-center"> </td>            
            <td id="board-1-10" class="align-middle text-center"> </td>
            <td id="board-1-11" class="align-middle text-center"> </td>
            <td id="board-1-12" class="align-middle text-center"></td>            
            <td id="board-1-13" class="align-middle text-center"> </td>
            <td id="corner" class="align-middle text-center"> </td>
        </tr>
        <tr>
            <td id="board-2-1" class="align-middle text-center"> </td>
            <td id="board-2-2" class="align-middle text-center"> </td>
            <td id="board-2-3" class="align-middle text-center"> </td>
            <td id="board-2-4" class="align-middle text-center"> </td>
            <td id="board-2-5" class="align-middle text-center"> </td>
            <td id="board-2-6" class="align-middle text-center"> </td>            
            <td id="board-2-7" class="align-middle text-center"> </td>
            <td id="board-2-8" class="align-middle text-center"> </td>
            <td id="board-2-9" class="align-middle text-center"> </td>            
            <td id="board-2-10" class="align-middle text-center"> </td>
            <td id="board-2-11" class="align-middle text-center"> </td>
            <td id="board-2-12" class="align-middle text-center"> </td>            
            <td id="board-2-13" class="align-middle text-center"> </td>
            <td id="board-2-14" class="align-middle text-center"> </td>
        </tr>
        <tr>
            <td id="board-3-1" class="align-middle text-center"> </td>
            <td id="board-3-2" class="align-middle text-center"> </td>
            <td id="board-3-3" class="align-middle text-center"> </td>
            <td id="board-3-4" class="align-middle text-center"> </td>
            <td id="board-3-5" class="align-middle text-center"> </td>
            <td id="board-3-6" class="align-middle text-center"> </td>            
            <td id="board-3-7" class="align-middle text-center"> </td>
            <td id="board-3-8" class="align-middle text-center"> </td>
            <td id="board-3-9" class="align-middle text-center"> </td>            
            <td id="board-3-10" class="align-middle text-center"> </td>
            <td id="board-3-11" class="align-middle text-center"> </td>
            <td id="board-3-12" class="align-middle text-center"> </td>            
            <td id="board-3-13" class="align-middle text-center"> </td>
            <td id="board-3-14" class="align-middle text-center"> </td>
        </tr>
        <tr>
            <td id="corner" class="align-middle text-center"> </td>
            <td id="board-4-2" class="align-middle text-center"> </td>
            <td id="board-4-3" class="align-middle text-center"> </td>
            <td id="board-4-4" class="align-middle text-center"> </td>
            <td id="board-4-5" class="align-middle text-center"> </td>
            <td id="board-4-6" class="align-middle text-center"> </td>            
            <td id="board-4-7" class="align-middle text-center"> </td>
            <td id="board-4-8" class="align-middle text-center"> </td>
            <td id="board-4-9" class="align-middle text-center"> </td>            
            <td id="board-4-10" class="align-middle text-center"> </td>
            <td id="board-4-11" class="align-middle text-center"> </td>
            <td id="board-4-12" class="align-middle text-center"> </td>            
            <td id="board-4-13" class="align-middle text-center"> </td>
            <td id="corner" class="align-middle text-center"> </td>
        </tr>         
      </table>
    </p>

      <table class="letterboard ">
        <tr>
            <td id="letter-A" class="callletters align-middle text-center">A</td>
            <td id="letter-B" class="callletters align-middle text-center">B</td>
            <td id="letter-C" class="callletters align-middle text-center">C</td>
            <td id="letter-D" class="callletters align-middle text-center">D</td>
            <td id="letter-E" class="callletters align-middle text-center">E</td>
            <td id="letter-F" class="callletters align-middle text-center">F</td>            
            <td id="letter-G" class="callletters align-middle text-center">G</td>
            <td id="letter-H" class="callletters align-middle text-center">H</td>
            <td id="letter-I" class="callletters align-middle text-center">I</td>            
            <td id="letter-J" class="callletters align-middle text-center">J</td>
            <td id="letter-K" class="callletters align-middle text-center">K</td>
            <td id="letter-L" class="callletters align-middle text-center">L</td>            
            <td id="letter-M" class="callletters align-middle text-center">M</td>
        </tr>
        <tr>
            <td id="letter-N" class="callletters align-middle text-center">N</td>
            <td id="letter-O" class="callletters align-middle text-center">O</td>
            <td id="letter-P" class="callletters align-middle text-center">P</td>
            <td id="letter-Q" class="callletters align-middle text-center">Q</td>
            <td id="letter-R" class="callletters align-middle text-center">R</td>
            <td id="letter-S" class="callletters align-middle text-center">S</td>            
            <td id="letter-T" class="callletters align-middle text-center">T</td>
            <td id="letter-U" class="callletters align-middle text-center">U</td>
            <td id="letter-V" class="callletters align-middle text-center">V</td>            
            <td id="letter-W" class="callletters align-middle text-center">W</td>
            <td id="letter-X" class="callletters align-middle text-center">X</td>
            <td id="letter-Y" class="callletters align-middle text-center">Y</td>            
            <td id="letter-Z" class="callletters align-middle text-center">Z</td>
        </tr>
        </table>

        </div>


        <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js" integrity="sha512-q/dWJ3kcmjBLU4Qc47E4A9kTB4m3wuTY7vkFJDTZKjTs8jhyGQnaUrxa0Ytd0ssMZhbNua9hE+E7Qv1j+DyZwA==" crossorigin="anonymous"></script>
   
        <script>
          var socket = io();
          socket.on('puzzle', (data) => {
            console.log('First Row:', data.row1);
            console.log('Second Row:', data.row2);
            console.log('Third Row:', data.row3);
            console.log('Fourth Row:', data.row4);
            console.log('Call Letters:', data.call_letters);
            loadboard(data);
          });       
        </script>

<script type="text/javascript" charset="utf-8">
  var socket = io();
  socket.on('connect', function() {
      console.log("Connected to socket");
  });
  socket.on('updateSensorData', function(data) {
      console.log(data);
      document.getElementById("socket-client").innerHTML = data.value;
  });
loadboard();
</script>
</body>
</html>